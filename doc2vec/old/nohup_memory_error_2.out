string price: 2.3359429007602555
string price: 2.3359429007602555
string price: 2.3359429007602555
string price: 1.2591215623738339
string price: 1.2787003960170784
string price: 6.266887232538808
string price: 1.5002095829715556
dataset_size = 10000
labels len = 10000
experiment starting with estimators=[('union', FeatureUnion(n_jobs=1,
       transformer_list=[('linguistic', Pipeline(memory=None,
     steps=[('selector', CustomDictVectorizer(key='corpus')), ('doc2vec', Doc2VecVectorizer()), ('debug', DebugTransformer())])), ('price_history', Pipeline(memory=None,
     steps=[('selector', CustomDictVectorizer(key='price_history'))]))],
       transformer_weights={'linguistic': 1.0, 'price_history': 1.0})), ('clf', XGBClassifier(base_score=0.5, booster='gbtree', colsample_bylevel=1,
       colsample_bytree=1, gamma=0, learning_rate=0.1, max_delta_step=0,
       max_depth=3, min_child_weight=1, missing=None, n_estimators=300,
       n_jobs=1, nthread=None, objective='multi:softmax', random_state=0,
       reg_alpha=0, reg_lambda=1, scale_pos_weight=1, seed=None,
       silent=True, subsample=1))] param_dict={'clf__max_depth': array([3, 4, 5, 6, 7, 8, 9]), 'clf__min_child_weight': array([3, 4, 5, 6, 7, 8, 9]), 'clf__subsample': array([0.5, 0.6, 0.7, 0.8, 0.9]), 'clf__colsample_bytree': array([0.5, 0.6, 0.7, 0.8, 0.9])}
10000
10000
multiprocessing.pool.RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/_parallel_backends.py", line 350, in __call__
    return self.func(*args, **kwargs)
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py", line 131, in __call__
    return [func(*args, **kwargs) for func, args, kwargs in self.items]
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py", line 131, in <listcomp>
    return [func(*args, **kwargs) for func, args, kwargs in self.items]
  File "/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_validation.py", line 492, in _fit_and_score
    is_multimetric)
  File "/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_validation.py", line 523, in _score
    return _multimetric_score(estimator, X_test, y_test, scorer)
  File "/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_validation.py", line 553, in _multimetric_score
    score = scorer(estimator, X_test, y_test)
  File "/anaconda3/lib/python3.6/site-packages/sklearn/metrics/scorer.py", line 244, in _passthrough_scorer
    return estimator.score(*args, **kwargs)
  File "/anaconda3/lib/python3.6/site-packages/sklearn/utils/metaestimators.py", line 115, in <lambda>
    out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)
  File "/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py", line 486, in score
    Xt = transform.transform(Xt)
  File "/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py", line 768, in transform
    for name, trans, weight in self._iter())
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py", line 779, in __call__
    while self.dispatch_one_batch(iterator):
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py", line 625, in dispatch_one_batch
    self._dispatch(tasks)
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py", line 588, in _dispatch
    job = self._backend.apply_async(batch, callback=cb)
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/_parallel_backends.py", line 111, in apply_async
    result = ImmediateResult(func)
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/_parallel_backends.py", line 332, in __init__
    self.results = batch()
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py", line 131, in __call__
    return [func(*args, **kwargs) for func, args, kwargs in self.items]
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py", line 131, in <listcomp>
    return [func(*args, **kwargs) for func, args, kwargs in self.items]
  File "/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py", line 571, in _transform_one
    res = transformer.transform(X)
  File "/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py", line 426, in _transform
    Xt = transform.transform(Xt)
  File "/home/ubuntu/notebooks/text-analytics-for-accountancy/doc2vec/custom_transformers.py", line 76, in transform
    Xa = np.array(Xa)
MemoryError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/anaconda3/lib/python3.6/multiprocessing/pool.py", line 119, in worker
    result = (True, func(*args, **kwds))
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/_parallel_backends.py", line 359, in __call__
    raise TransportableException(text, e_type)
sklearn.externals.joblib.my_exceptions.TransportableException: TransportableException
___________________________________________________________________________
MemoryError                                        Thu Mar  8 05:33:57 2018
PID: 11134                              Python 3.6.4: /anaconda3/bin/python
...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in __call__(self=<sklearn.externals.joblib.parallel.BatchedCalls object>)
    126     def __init__(self, iterator_slice):
    127         self.items = list(iterator_slice)
    128         self._size = len(self.items)
    129 
    130     def __call__(self):
--> 131         return [func(*args, **kwargs) for func, args, kwargs in self.items]
        self.items = [(<function _fit_and_score>, (Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ...,  0,  1,  1]), {'score': <function _passthrough_scorer>}, array([   0,    1,    2, ..., 1816, 1817, 1818]), array([1819, 1820, 1821, 1822, 1823, 1824, 1825,...       2721, 2722, 2723, 2724, 2725, 2726, 2727]), 0, {'clf__colsample_bytree': 0.5, 'clf__max_depth': 3, 'clf__min_child_weight': 3, 'clf__subsample': 0.5}), {'error_score': 'raise', 'fit_params': {}, 'return_n_test_samples': True, 'return_parameters': False, 'return_times': True, 'return_train_score': 'warn'})]
    132 
    133     def __len__(self):
    134         return self._size
    135 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in <listcomp>(.0=<list_iterator object>)
    126     def __init__(self, iterator_slice):
    127         self.items = list(iterator_slice)
    128         self._size = len(self.items)
    129 
    130     def __call__(self):
--> 131         return [func(*args, **kwargs) for func, args, kwargs in self.items]
        func = <function _fit_and_score>
        args = (Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ...,  0,  1,  1]), {'score': <function _passthrough_scorer>}, array([   0,    1,    2, ..., 1816, 1817, 1818]), array([1819, 1820, 1821, 1822, 1823, 1824, 1825,...       2721, 2722, 2723, 2724, 2725, 2726, 2727]), 0, {'clf__colsample_bytree': 0.5, 'clf__max_depth': 3, 'clf__min_child_weight': 3, 'clf__subsample': 0.5})
        kwargs = {'error_score': 'raise', 'fit_params': {}, 'return_n_test_samples': True, 'return_parameters': False, 'return_times': True, 'return_train_score': 'warn'}
    132 
    133     def __len__(self):
    134         return self._size
    135 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_validation.py in _fit_and_score(estimator=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], y=array([ 0, -1,  1, ...,  0,  1,  1]), scorer={'score': <function _passthrough_scorer>}, train=array([   0,    1,    2, ..., 1816, 1817, 1818]), test=array([1819, 1820, 1821, 1822, 1823, 1824, 1825,...       2721, 2722, 2723, 2724, 2725, 2726, 2727]), verbose=0, parameters={'clf__colsample_bytree': 0.5, 'clf__max_depth': 3, 'clf__min_child_weight': 3, 'clf__subsample': 0.5}, fit_params={}, return_train_score='warn', return_parameters=False, return_n_test_samples=True, return_times=True, error_score='raise')
    487         # _score will return dict if is_multimetric is True
    488         test_scores = _score(estimator, X_test, y_test, scorer, is_multimetric)
    489         score_time = time.time() - start_time - fit_time
    490         if return_train_score:
    491             train_scores = _score(estimator, X_train, y_train, scorer,
--> 492                                   is_multimetric)
        is_multimetric = True
    493 
    494     if verbose > 2:
    495         if is_multimetric:
    496             for scorer_name, score in test_scores.items():

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_validation.py in _score(estimator=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), X_test=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], y_test=array([ 0, -1,  1, ..., -1,  1,  1]), scorer={'score': <function _passthrough_scorer>}, is_multimetric=True)
    518 
    519     Will return a single float if is_multimetric is False and a dict of floats,
    520     if is_multimetric is True
    521     """
    522     if is_multimetric:
--> 523         return _multimetric_score(estimator, X_test, y_test, scorer)
        estimator = Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))])
        X_test = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
        y_test = array([ 0, -1,  1, ..., -1,  1,  1])
        scorer = {'score': <function _passthrough_scorer>}
    524     else:
    525         if y_test is None:
    526             score = scorer(estimator, X_test)
    527         else:

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_validation.py in _multimetric_score(estimator=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), X_test=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], y_test=array([ 0, -1,  1, ..., -1,  1,  1]), scorers={'score': <function _passthrough_scorer>})
    548 
    549     for name, scorer in scorers.items():
    550         if y_test is None:
    551             score = scorer(estimator, X_test)
    552         else:
--> 553             score = scorer(estimator, X_test, y_test)
        score = undefined
        scorer = <function _passthrough_scorer>
        estimator = Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))])
        X_test = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
        y_test = array([ 0, -1,  1, ..., -1,  1,  1])
    554 
    555         if hasattr(score, 'item'):
    556             try:
    557                 # e.g. unwrap memmapped scalars

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/metrics/scorer.py in _passthrough_scorer(estimator=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), *args=([{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ..., -1,  1,  1])), **kwargs={})
    239     return scorer
    240 
    241 
    242 def _passthrough_scorer(estimator, *args, **kwargs):
    243     """Function that wraps estimator.score"""
--> 244     return estimator.score(*args, **kwargs)
        estimator.score = <function Pipeline.score>
        args = ([{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ..., -1,  1,  1]))
        kwargs = {}
    245 
    246 
    247 def check_scoring(estimator, scoring=None, allow_none=False):
    248     """Determine scorer from user options.

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/utils/metaestimators.py in <lambda>(*args=([{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ..., -1,  1,  1])), **kwargs={})
    110                     break
    111             else:
    112                 attrgetter(self.delegate_names[-1])(obj)
    113 
    114         # lambda, but not partial, allows help() to work with update_wrapper
--> 115         out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)
        args = ([{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ..., -1,  1,  1]))
        kwargs = {}
    116         # update the docstring of the returned function
    117         update_wrapper(out, self.fn)
    118         return out
    119 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py in score(self=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], y=array([ 0, -1,  1, ..., -1,  1,  1]), sample_weight=None)
    481         score : float
    482         """
    483         Xt = X
    484         for name, transform in self.steps[:-1]:
    485             if transform is not None:
--> 486                 Xt = transform.transform(Xt)
        Xt = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
        transform.transform = <bound method FeatureUnion.transform of FeatureU...ights={'linguistic': 1.0, 'price_history': 1.0})>
    487         score_params = {}
    488         if sample_weight is not None:
    489             score_params['sample_weight'] = sample_weight
    490         return self.steps[-1][-1].score(Xt, y, **score_params)

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py in transform(self=FeatureUnion(n_jobs=1,
       transformer_list=[...eights={'linguistic': 1.0, 'price_history': 1.0}), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
    763             hstack of results of transformers. sum_n_components is the
    764             sum of n_components (output dimension) over transformers.
    765         """
    766         Xs = Parallel(n_jobs=self.n_jobs)(
    767             delayed(_transform_one)(trans, weight, X)
--> 768             for name, trans, weight in self._iter())
        self._iter = <bound method FeatureUnion._iter of FeatureUnion...ights={'linguistic': 1.0, 'price_history': 1.0})>
    769         if not Xs:
    770             # All transformers are None
    771             return np.zeros((X.shape[0], 0))
    772         if any(sparse.issparse(f) for f in Xs):

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in __call__(self=Parallel(n_jobs=1), iterable=<generator object FeatureUnion.transform.<locals>.<genexpr>>)
    774         self.n_completed_tasks = 0
    775         try:
    776             # Only set self._iterating to True if at least a batch
    777             # was dispatched. In particular this covers the edge
    778             # case of Parallel used with an exhausted iterator.
--> 779             while self.dispatch_one_batch(iterator):
        self.dispatch_one_batch = <bound method Parallel.dispatch_one_batch of Parallel(n_jobs=1)>
        iterator = <generator object FeatureUnion.transform.<locals>.<genexpr>>
    780                 self._iterating = True
    781             else:
    782                 self._iterating = False
    783 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in dispatch_one_batch(self=Parallel(n_jobs=1), iterator=<generator object FeatureUnion.transform.<locals>.<genexpr>>)
    620             tasks = BatchedCalls(itertools.islice(iterator, batch_size))
    621             if len(tasks) == 0:
    622                 # No more tasks available in the iterator: tell caller to stop.
    623                 return False
    624             else:
--> 625                 self._dispatch(tasks)
        self._dispatch = <bound method Parallel._dispatch of Parallel(n_jobs=1)>
        tasks = <sklearn.externals.joblib.parallel.BatchedCalls object>
    626                 return True
    627 
    628     def _print(self, msg, msg_args):
    629         """Display the message on stout or stderr depending on verbosity"""

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in _dispatch(self=Parallel(n_jobs=1), batch=<sklearn.externals.joblib.parallel.BatchedCalls object>)
    583         self.n_dispatched_tasks += len(batch)
    584         self.n_dispatched_batches += 1
    585 
    586         dispatch_timestamp = time.time()
    587         cb = BatchCompletionCallBack(dispatch_timestamp, len(batch), self)
--> 588         job = self._backend.apply_async(batch, callback=cb)
        job = undefined
        self._backend.apply_async = <bound method SequentialBackend.apply_async of <...lib._parallel_backends.SequentialBackend object>>
        batch = <sklearn.externals.joblib.parallel.BatchedCalls object>
        cb = <sklearn.externals.joblib.parallel.BatchCompletionCallBack object>
    589         self._jobs.append(job)
    590 
    591     def dispatch_next(self):
    592         """Dispatch more data for parallel processing

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/_parallel_backends.py in apply_async(self=<sklearn.externals.joblib._parallel_backends.SequentialBackend object>, func=<sklearn.externals.joblib.parallel.BatchedCalls object>, callback=<sklearn.externals.joblib.parallel.BatchCompletionCallBack object>)
    106             raise ValueError('n_jobs == 0 in Parallel has no meaning')
    107         return 1
    108 
    109     def apply_async(self, func, callback=None):
    110         """Schedule a func to be run"""
--> 111         result = ImmediateResult(func)
        result = undefined
        func = <sklearn.externals.joblib.parallel.BatchedCalls object>
    112         if callback:
    113             callback(result)
    114         return result
    115 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/_parallel_backends.py in __init__(self=<sklearn.externals.joblib._parallel_backends.ImmediateResult object>, batch=<sklearn.externals.joblib.parallel.BatchedCalls object>)
    327 
    328 class ImmediateResult(object):
    329     def __init__(self, batch):
    330         # Don't delay the application, to avoid keeping the input
    331         # arguments in memory
--> 332         self.results = batch()
        self.results = undefined
        batch = <sklearn.externals.joblib.parallel.BatchedCalls object>
    333 
    334     def get(self):
    335         return self.results
    336 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in __call__(self=<sklearn.externals.joblib.parallel.BatchedCalls object>)
    126     def __init__(self, iterator_slice):
    127         self.items = list(iterator_slice)
    128         self._size = len(self.items)
    129 
    130     def __call__(self):
--> 131         return [func(*args, **kwargs) for func, args, kwargs in self.items]
        self.items = [(<function _transform_one>, (Pipeline(memory=None,
     steps=[('selector', C...VecVectorizer()), ('debug', DebugTransformer())]), 1.0, [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]), {})]
    132 
    133     def __len__(self):
    134         return self._size
    135 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in <listcomp>(.0=<list_iterator object>)
    126     def __init__(self, iterator_slice):
    127         self.items = list(iterator_slice)
    128         self._size = len(self.items)
    129 
    130     def __call__(self):
--> 131         return [func(*args, **kwargs) for func, args, kwargs in self.items]
        func = <function _transform_one>
        args = (Pipeline(memory=None,
     steps=[('selector', C...VecVectorizer()), ('debug', DebugTransformer())]), 1.0, [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
        kwargs = {}
    132 
    133     def __len__(self):
    134         return self._size
    135 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py in _transform_one(transformer=Pipeline(memory=None,
     steps=[('selector', C...VecVectorizer()), ('debug', DebugTransformer())]), weight=1.0, X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
    566 def _fit_one_transformer(transformer, X, y):
    567     return transformer.fit(X, y)
    568 
    569 
    570 def _transform_one(transformer, weight, X):
--> 571     res = transformer.transform(X)
        res = undefined
        transformer.transform = <bound method Pipeline._transform of Pipeline(me...ecVectorizer()), ('debug', DebugTransformer())])>
        X = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
    572     # if we have a weight for this transformer, multiply output
    573     if weight is None:
    574         return res
    575     return res * weight

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py in _transform(self=Pipeline(memory=None,
     steps=[('selector', C...VecVectorizer()), ('debug', DebugTransformer())]), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
    421 
    422     def _transform(self, X):
    423         Xt = X
    424         for name, transform in self.steps:
    425             if transform is not None:
--> 426                 Xt = transform.transform(Xt)
        Xt = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
        transform.transform = <bound method CustomDictVectorizer.transform of CustomDictVectorizer(key='corpus')>
    427         return Xt
    428 
    429     @property
    430     def inverse_transform(self):

...........................................................................
/home/ubuntu/notebooks/text-analytics-for-accountancy/doc2vec/custom_transformers.py in transform(self=CustomDictVectorizer(key='corpus'), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
     71         """
     72         if self.key == 'corpus':
     73             Xa = [''] * len(X) # 1-d array of strings
     74             for i, x in enumerate(X):
     75                 Xa[i] = x['corpus']
---> 76             Xa = np.array(Xa)
        Xa = ['numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', ...]
     77         elif self.key == 'price_history':
     78             Xa = np.zeros((len(X), 5)) # 2-d array of price histories
     79             for i, x in enumerate(X):
     80                 for j, val in enumerate(x['price_history']):

MemoryError: 
___________________________________________________________________________
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py", line 699, in retrieve
    self._output.extend(job.get(timeout=self.timeout))
  File "/anaconda3/lib/python3.6/multiprocessing/pool.py", line 644, in get
    raise self._value
sklearn.externals.joblib.my_exceptions.TransportableException: TransportableException
___________________________________________________________________________
MemoryError                                        Thu Mar  8 05:33:57 2018
PID: 11134                              Python 3.6.4: /anaconda3/bin/python
...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in __call__(self=<sklearn.externals.joblib.parallel.BatchedCalls object>)
    126     def __init__(self, iterator_slice):
    127         self.items = list(iterator_slice)
    128         self._size = len(self.items)
    129 
    130     def __call__(self):
--> 131         return [func(*args, **kwargs) for func, args, kwargs in self.items]
        self.items = [(<function _fit_and_score>, (Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ...,  0,  1,  1]), {'score': <function _passthrough_scorer>}, array([   0,    1,    2, ..., 1816, 1817, 1818]), array([1819, 1820, 1821, 1822, 1823, 1824, 1825,...       2721, 2722, 2723, 2724, 2725, 2726, 2727]), 0, {'clf__colsample_bytree': 0.5, 'clf__max_depth': 3, 'clf__min_child_weight': 3, 'clf__subsample': 0.5}), {'error_score': 'raise', 'fit_params': {}, 'return_n_test_samples': True, 'return_parameters': False, 'return_times': True, 'return_train_score': 'warn'})]
    132 
    133     def __len__(self):
    134         return self._size
    135 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in <listcomp>(.0=<list_iterator object>)
    126     def __init__(self, iterator_slice):
    127         self.items = list(iterator_slice)
    128         self._size = len(self.items)
    129 
    130     def __call__(self):
--> 131         return [func(*args, **kwargs) for func, args, kwargs in self.items]
        func = <function _fit_and_score>
        args = (Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ...,  0,  1,  1]), {'score': <function _passthrough_scorer>}, array([   0,    1,    2, ..., 1816, 1817, 1818]), array([1819, 1820, 1821, 1822, 1823, 1824, 1825,...       2721, 2722, 2723, 2724, 2725, 2726, 2727]), 0, {'clf__colsample_bytree': 0.5, 'clf__max_depth': 3, 'clf__min_child_weight': 3, 'clf__subsample': 0.5})
        kwargs = {'error_score': 'raise', 'fit_params': {}, 'return_n_test_samples': True, 'return_parameters': False, 'return_times': True, 'return_train_score': 'warn'}
    132 
    133     def __len__(self):
    134         return self._size
    135 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_validation.py in _fit_and_score(estimator=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], y=array([ 0, -1,  1, ...,  0,  1,  1]), scorer={'score': <function _passthrough_scorer>}, train=array([   0,    1,    2, ..., 1816, 1817, 1818]), test=array([1819, 1820, 1821, 1822, 1823, 1824, 1825,...       2721, 2722, 2723, 2724, 2725, 2726, 2727]), verbose=0, parameters={'clf__colsample_bytree': 0.5, 'clf__max_depth': 3, 'clf__min_child_weight': 3, 'clf__subsample': 0.5}, fit_params={}, return_train_score='warn', return_parameters=False, return_n_test_samples=True, return_times=True, error_score='raise')
    487         # _score will return dict if is_multimetric is True
    488         test_scores = _score(estimator, X_test, y_test, scorer, is_multimetric)
    489         score_time = time.time() - start_time - fit_time
    490         if return_train_score:
    491             train_scores = _score(estimator, X_train, y_train, scorer,
--> 492                                   is_multimetric)
        is_multimetric = True
    493 
    494     if verbose > 2:
    495         if is_multimetric:
    496             for scorer_name, score in test_scores.items():

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_validation.py in _score(estimator=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), X_test=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], y_test=array([ 0, -1,  1, ..., -1,  1,  1]), scorer={'score': <function _passthrough_scorer>}, is_multimetric=True)
    518 
    519     Will return a single float if is_multimetric is False and a dict of floats,
    520     if is_multimetric is True
    521     """
    522     if is_multimetric:
--> 523         return _multimetric_score(estimator, X_test, y_test, scorer)
        estimator = Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))])
        X_test = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
        y_test = array([ 0, -1,  1, ..., -1,  1,  1])
        scorer = {'score': <function _passthrough_scorer>}
    524     else:
    525         if y_test is None:
    526             score = scorer(estimator, X_test)
    527         else:

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_validation.py in _multimetric_score(estimator=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), X_test=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], y_test=array([ 0, -1,  1, ..., -1,  1,  1]), scorers={'score': <function _passthrough_scorer>})
    548 
    549     for name, scorer in scorers.items():
    550         if y_test is None:
    551             score = scorer(estimator, X_test)
    552         else:
--> 553             score = scorer(estimator, X_test, y_test)
        score = undefined
        scorer = <function _passthrough_scorer>
        estimator = Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))])
        X_test = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
        y_test = array([ 0, -1,  1, ..., -1,  1,  1])
    554 
    555         if hasattr(score, 'item'):
    556             try:
    557                 # e.g. unwrap memmapped scalars

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/metrics/scorer.py in _passthrough_scorer(estimator=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), *args=([{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ..., -1,  1,  1])), **kwargs={})
    239     return scorer
    240 
    241 
    242 def _passthrough_scorer(estimator, *args, **kwargs):
    243     """Function that wraps estimator.score"""
--> 244     return estimator.score(*args, **kwargs)
        estimator.score = <function Pipeline.score>
        args = ([{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ..., -1,  1,  1]))
        kwargs = {}
    245 
    246 
    247 def check_scoring(estimator, scoring=None, allow_none=False):
    248     """Determine scorer from user options.

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/utils/metaestimators.py in <lambda>(*args=([{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ..., -1,  1,  1])), **kwargs={})
    110                     break
    111             else:
    112                 attrgetter(self.delegate_names[-1])(obj)
    113 
    114         # lambda, but not partial, allows help() to work with update_wrapper
--> 115         out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)
        args = ([{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ..., -1,  1,  1]))
        kwargs = {}
    116         # update the docstring of the returned function
    117         update_wrapper(out, self.fn)
    118         return out
    119 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py in score(self=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], y=array([ 0, -1,  1, ..., -1,  1,  1]), sample_weight=None)
    481         score : float
    482         """
    483         Xt = X
    484         for name, transform in self.steps[:-1]:
    485             if transform is not None:
--> 486                 Xt = transform.transform(Xt)
        Xt = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
        transform.transform = <bound method FeatureUnion.transform of FeatureU...ights={'linguistic': 1.0, 'price_history': 1.0})>
    487         score_params = {}
    488         if sample_weight is not None:
    489             score_params['sample_weight'] = sample_weight
    490         return self.steps[-1][-1].score(Xt, y, **score_params)

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py in transform(self=FeatureUnion(n_jobs=1,
       transformer_list=[...eights={'linguistic': 1.0, 'price_history': 1.0}), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
    763             hstack of results of transformers. sum_n_components is the
    764             sum of n_components (output dimension) over transformers.
    765         """
    766         Xs = Parallel(n_jobs=self.n_jobs)(
    767             delayed(_transform_one)(trans, weight, X)
--> 768             for name, trans, weight in self._iter())
        self._iter = <bound method FeatureUnion._iter of FeatureUnion...ights={'linguistic': 1.0, 'price_history': 1.0})>
    769         if not Xs:
    770             # All transformers are None
    771             return np.zeros((X.shape[0], 0))
    772         if any(sparse.issparse(f) for f in Xs):

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in __call__(self=Parallel(n_jobs=1), iterable=<generator object FeatureUnion.transform.<locals>.<genexpr>>)
    774         self.n_completed_tasks = 0
    775         try:
    776             # Only set self._iterating to True if at least a batch
    777             # was dispatched. In particular this covers the edge
    778             # case of Parallel used with an exhausted iterator.
--> 779             while self.dispatch_one_batch(iterator):
        self.dispatch_one_batch = <bound method Parallel.dispatch_one_batch of Parallel(n_jobs=1)>
        iterator = <generator object FeatureUnion.transform.<locals>.<genexpr>>
    780                 self._iterating = True
    781             else:
    782                 self._iterating = False
    783 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in dispatch_one_batch(self=Parallel(n_jobs=1), iterator=<generator object FeatureUnion.transform.<locals>.<genexpr>>)
    620             tasks = BatchedCalls(itertools.islice(iterator, batch_size))
    621             if len(tasks) == 0:
    622                 # No more tasks available in the iterator: tell caller to stop.
    623                 return False
    624             else:
--> 625                 self._dispatch(tasks)
        self._dispatch = <bound method Parallel._dispatch of Parallel(n_jobs=1)>
        tasks = <sklearn.externals.joblib.parallel.BatchedCalls object>
    626                 return True
    627 
    628     def _print(self, msg, msg_args):
    629         """Display the message on stout or stderr depending on verbosity"""

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in _dispatch(self=Parallel(n_jobs=1), batch=<sklearn.externals.joblib.parallel.BatchedCalls object>)
    583         self.n_dispatched_tasks += len(batch)
    584         self.n_dispatched_batches += 1
    585 
    586         dispatch_timestamp = time.time()
    587         cb = BatchCompletionCallBack(dispatch_timestamp, len(batch), self)
--> 588         job = self._backend.apply_async(batch, callback=cb)
        job = undefined
        self._backend.apply_async = <bound method SequentialBackend.apply_async of <...lib._parallel_backends.SequentialBackend object>>
        batch = <sklearn.externals.joblib.parallel.BatchedCalls object>
        cb = <sklearn.externals.joblib.parallel.BatchCompletionCallBack object>
    589         self._jobs.append(job)
    590 
    591     def dispatch_next(self):
    592         """Dispatch more data for parallel processing

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/_parallel_backends.py in apply_async(self=<sklearn.externals.joblib._parallel_backends.SequentialBackend object>, func=<sklearn.externals.joblib.parallel.BatchedCalls object>, callback=<sklearn.externals.joblib.parallel.BatchCompletionCallBack object>)
    106             raise ValueError('n_jobs == 0 in Parallel has no meaning')
    107         return 1
    108 
    109     def apply_async(self, func, callback=None):
    110         """Schedule a func to be run"""
--> 111         result = ImmediateResult(func)
        result = undefined
        func = <sklearn.externals.joblib.parallel.BatchedCalls object>
    112         if callback:
    113             callback(result)
    114         return result
    115 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/_parallel_backends.py in __init__(self=<sklearn.externals.joblib._parallel_backends.ImmediateResult object>, batch=<sklearn.externals.joblib.parallel.BatchedCalls object>)
    327 
    328 class ImmediateResult(object):
    329     def __init__(self, batch):
    330         # Don't delay the application, to avoid keeping the input
    331         # arguments in memory
--> 332         self.results = batch()
        self.results = undefined
        batch = <sklearn.externals.joblib.parallel.BatchedCalls object>
    333 
    334     def get(self):
    335         return self.results
    336 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in __call__(self=<sklearn.externals.joblib.parallel.BatchedCalls object>)
    126     def __init__(self, iterator_slice):
    127         self.items = list(iterator_slice)
    128         self._size = len(self.items)
    129 
    130     def __call__(self):
--> 131         return [func(*args, **kwargs) for func, args, kwargs in self.items]
        self.items = [(<function _transform_one>, (Pipeline(memory=None,
     steps=[('selector', C...VecVectorizer()), ('debug', DebugTransformer())]), 1.0, [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]), {})]
    132 
    133     def __len__(self):
    134         return self._size
    135 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in <listcomp>(.0=<list_iterator object>)
    126     def __init__(self, iterator_slice):
    127         self.items = list(iterator_slice)
    128         self._size = len(self.items)
    129 
    130     def __call__(self):
--> 131         return [func(*args, **kwargs) for func, args, kwargs in self.items]
        func = <function _transform_one>
        args = (Pipeline(memory=None,
     steps=[('selector', C...VecVectorizer()), ('debug', DebugTransformer())]), 1.0, [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
        kwargs = {}
    132 
    133     def __len__(self):
    134         return self._size
    135 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py in _transform_one(transformer=Pipeline(memory=None,
     steps=[('selector', C...VecVectorizer()), ('debug', DebugTransformer())]), weight=1.0, X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
    566 def _fit_one_transformer(transformer, X, y):
    567     return transformer.fit(X, y)
    568 
    569 
    570 def _transform_one(transformer, weight, X):
--> 571     res = transformer.transform(X)
        res = undefined
        transformer.transform = <bound method Pipeline._transform of Pipeline(me...ecVectorizer()), ('debug', DebugTransformer())])>
        X = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
    572     # if we have a weight for this transformer, multiply output
    573     if weight is None:
    574         return res
    575     return res * weight

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py in _transform(self=Pipeline(memory=None,
     steps=[('selector', C...VecVectorizer()), ('debug', DebugTransformer())]), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
    421 
    422     def _transform(self, X):
    423         Xt = X
    424         for name, transform in self.steps:
    425             if transform is not None:
--> 426                 Xt = transform.transform(Xt)
        Xt = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
        transform.transform = <bound method CustomDictVectorizer.transform of CustomDictVectorizer(key='corpus')>
    427         return Xt
    428 
    429     @property
    430     def inverse_transform(self):

...........................................................................
/home/ubuntu/notebooks/text-analytics-for-accountancy/doc2vec/custom_transformers.py in transform(self=CustomDictVectorizer(key='corpus'), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
     71         """
     72         if self.key == 'corpus':
     73             Xa = [''] * len(X) # 1-d array of strings
     74             for i, x in enumerate(X):
     75                 Xa[i] = x['corpus']
---> 76             Xa = np.array(Xa)
        Xa = ['numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', ...]
     77         elif self.key == 'price_history':
     78             Xa = np.zeros((len(X), 5)) # 2-d array of price histories
     79             for i, x in enumerate(X):
     80                 for j, val in enumerate(x['price_history']):

MemoryError: 
___________________________________________________________________________

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "tf_idf_v2.py", line 110, in <module>
    main()
  File "tf_idf_v2.py", line 82, in main
    run_experiment(estimators, param_grid, dataset)
  File "tf_idf_v2.py", line 99, in run_experiment
    grid_search.fit(dataset['X'], dataset['labels']) 
  File "/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_search.py", line 639, in fit
    cv.split(X, y, groups)))
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py", line 789, in __call__
    self.retrieve()
  File "/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py", line 740, in retrieve
    raise exception
sklearn.externals.joblib.my_exceptions.JoblibMemoryError: JoblibMemoryError
___________________________________________________________________________
Multiprocessing exception:
...........................................................................
/home/ubuntu/notebooks/text-analytics-for-accountancy/doc2vec/tf_idf_v2.py in <module>()
    105 
    106     from sklearn.externals import joblib
    107     joblib.dump(grid_search.best_estimator_, 'doc2vec_10000_best_estimator.pkl', compress=1)
    108 
    109 if __name__ == "__main__":
--> 110     main()

...........................................................................
/home/ubuntu/notebooks/text-analytics-for-accountancy/doc2vec/tf_idf_v2.py in main()
     77     Doc2Vec on gensim 3.4.0 (latest version) FAILS due to above error. Unresolved.
     78     Solution: downgrade to 3.2.0
     79     """
     80     param_grid = my_estimators.param_grid_doc2vec_prices_xgb
     81     estimators = my_estimators.estimators_doc2vec_prices_xgb
---> 82     run_experiment(estimators, param_grid, dataset)
        estimators = [('union', FeatureUnion(n_jobs=1,
       transformer_list=[...eights={'linguistic': 1.0, 'price_history': 1.0})), ('clf', XGBClassifier(base_score=0.5, booster='gbtree', ...ht=1, seed=None,
       silent=True, subsample=1))]
        param_grid = {'clf__colsample_bytree': array([0.5, 0.6, 0.7, 0.8, 0.9]), 'clf__max_depth': array([3, 4, 5, 6, 7, 8, 9]), 'clf__min_child_weight': array([3, 4, 5, 6, 7, 8, 9]), 'clf__subsample': array([0.5, 0.6, 0.7, 0.8, 0.9])}
        dataset = {'X': [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], 'labels': array([ 0, -1,  1, ...,  0,  1,  1])}
     83 
     84 def run_experiment(estimators, param_dict, dataset):
     85     print('experiment starting with estimators={} param_dict={}'.format(estimators, param_dict))
     86     start = time.time()

...........................................................................
/home/ubuntu/notebooks/text-analytics-for-accountancy/doc2vec/tf_idf_v2.py in run_experiment(estimators=[('union', FeatureUnion(n_jobs=1,
       transformer_list=[...eights={'linguistic': 1.0, 'price_history': 1.0})), ('clf', XGBClassifier(base_score=0.5, booster='gbtree', ...ht=1, seed=None,
       silent=True, subsample=1))], param_dict={'clf__colsample_bytree': array([0.5, 0.6, 0.7, 0.8, 0.9]), 'clf__max_depth': array([3, 4, 5, 6, 7, 8, 9]), 'clf__min_child_weight': array([3, 4, 5, 6, 7, 8, 9]), 'clf__subsample': array([0.5, 0.6, 0.7, 0.8, 0.9])}, dataset={'X': [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], 'labels': array([ 0, -1,  1, ...,  0,  1,  1])})
     94 
     95     #grid_search = GridSearchCV(pipe, param_grid=dict(clf__C=param_dict), cv=ts_cv)
     96     grid_search = GridSearchCV(pipe, param_grid=param_dict, cv=ts_cv, n_jobs=2)
     97     print(len(dataset['X']))
     98     print(len(dataset['labels']))
---> 99     grid_search.fit(dataset['X'], dataset['labels']) 
        grid_search.fit = <bound method BaseSearchCV.fit of GridSearchCV(c...in_score='warn',
       scoring=None, verbose=0)>
        dataset = {'X': [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], 'labels': array([ 0, -1,  1, ...,  0,  1,  1])}
    100     end = time.time()
    101     print("Total running time: {}".format(end-start))
    102     print(grid_search.grid_scores_)
    103     print(grid_search.best_params_)

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_search.py in fit(self=GridSearchCV(cv=<generator object TimeSeriesSpli...ain_score='warn',
       scoring=None, verbose=0), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], y=array([ 0, -1,  1, ...,  0,  1,  1]), groups=None, **fit_params={})
    634                                   return_train_score=self.return_train_score,
    635                                   return_n_test_samples=True,
    636                                   return_times=True, return_parameters=False,
    637                                   error_score=self.error_score)
    638           for parameters, (train, test) in product(candidate_params,
--> 639                                                    cv.split(X, y, groups)))
        cv.split = <bound method _CVIterableWrapper.split of _CVIte... 9090]), array([9091, 9092, ..., 9998, 9999]))])>
        X = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
        y = array([ 0, -1,  1, ...,  0,  1,  1])
        groups = None
    640 
    641         # if one choose to see train score, "out" will contain train score info
    642         if self.return_train_score:
    643             (train_score_dicts, test_score_dicts, test_sample_counts, fit_time,

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in __call__(self=Parallel(n_jobs=2), iterable=<generator object BaseSearchCV.fit.<locals>.<genexpr>>)
    784             if pre_dispatch == "all" or n_jobs == 1:
    785                 # The iterable was consumed all at once by the above for loop.
    786                 # No need to wait for async callbacks to trigger to
    787                 # consumption.
    788                 self._iterating = False
--> 789             self.retrieve()
        self.retrieve = <bound method Parallel.retrieve of Parallel(n_jobs=2)>
    790             # Make sure that we get a last message telling us we are done
    791             elapsed_time = time.time() - self._start_time
    792             self._print('Done %3i out of %3i | elapsed: %s finished',
    793                         (len(self._output), len(self._output),

---------------------------------------------------------------------------
Sub-process traceback:
---------------------------------------------------------------------------
MemoryError                                        Thu Mar  8 05:33:57 2018
PID: 11134                              Python 3.6.4: /anaconda3/bin/python
...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in __call__(self=<sklearn.externals.joblib.parallel.BatchedCalls object>)
    126     def __init__(self, iterator_slice):
    127         self.items = list(iterator_slice)
    128         self._size = len(self.items)
    129 
    130     def __call__(self):
--> 131         return [func(*args, **kwargs) for func, args, kwargs in self.items]
        self.items = [(<function _fit_and_score>, (Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ...,  0,  1,  1]), {'score': <function _passthrough_scorer>}, array([   0,    1,    2, ..., 1816, 1817, 1818]), array([1819, 1820, 1821, 1822, 1823, 1824, 1825,...       2721, 2722, 2723, 2724, 2725, 2726, 2727]), 0, {'clf__colsample_bytree': 0.5, 'clf__max_depth': 3, 'clf__min_child_weight': 3, 'clf__subsample': 0.5}), {'error_score': 'raise', 'fit_params': {}, 'return_n_test_samples': True, 'return_parameters': False, 'return_times': True, 'return_train_score': 'warn'})]
    132 
    133     def __len__(self):
    134         return self._size
    135 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in <listcomp>(.0=<list_iterator object>)
    126     def __init__(self, iterator_slice):
    127         self.items = list(iterator_slice)
    128         self._size = len(self.items)
    129 
    130     def __call__(self):
--> 131         return [func(*args, **kwargs) for func, args, kwargs in self.items]
        func = <function _fit_and_score>
        args = (Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ...,  0,  1,  1]), {'score': <function _passthrough_scorer>}, array([   0,    1,    2, ..., 1816, 1817, 1818]), array([1819, 1820, 1821, 1822, 1823, 1824, 1825,...       2721, 2722, 2723, 2724, 2725, 2726, 2727]), 0, {'clf__colsample_bytree': 0.5, 'clf__max_depth': 3, 'clf__min_child_weight': 3, 'clf__subsample': 0.5})
        kwargs = {'error_score': 'raise', 'fit_params': {}, 'return_n_test_samples': True, 'return_parameters': False, 'return_times': True, 'return_train_score': 'warn'}
    132 
    133     def __len__(self):
    134         return self._size
    135 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_validation.py in _fit_and_score(estimator=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], y=array([ 0, -1,  1, ...,  0,  1,  1]), scorer={'score': <function _passthrough_scorer>}, train=array([   0,    1,    2, ..., 1816, 1817, 1818]), test=array([1819, 1820, 1821, 1822, 1823, 1824, 1825,...       2721, 2722, 2723, 2724, 2725, 2726, 2727]), verbose=0, parameters={'clf__colsample_bytree': 0.5, 'clf__max_depth': 3, 'clf__min_child_weight': 3, 'clf__subsample': 0.5}, fit_params={}, return_train_score='warn', return_parameters=False, return_n_test_samples=True, return_times=True, error_score='raise')
    487         # _score will return dict if is_multimetric is True
    488         test_scores = _score(estimator, X_test, y_test, scorer, is_multimetric)
    489         score_time = time.time() - start_time - fit_time
    490         if return_train_score:
    491             train_scores = _score(estimator, X_train, y_train, scorer,
--> 492                                   is_multimetric)
        is_multimetric = True
    493 
    494     if verbose > 2:
    495         if is_multimetric:
    496             for scorer_name, score in test_scores.items():

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_validation.py in _score(estimator=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), X_test=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], y_test=array([ 0, -1,  1, ..., -1,  1,  1]), scorer={'score': <function _passthrough_scorer>}, is_multimetric=True)
    518 
    519     Will return a single float if is_multimetric is False and a dict of floats,
    520     if is_multimetric is True
    521     """
    522     if is_multimetric:
--> 523         return _multimetric_score(estimator, X_test, y_test, scorer)
        estimator = Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))])
        X_test = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
        y_test = array([ 0, -1,  1, ..., -1,  1,  1])
        scorer = {'score': <function _passthrough_scorer>}
    524     else:
    525         if y_test is None:
    526             score = scorer(estimator, X_test)
    527         else:

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/model_selection/_validation.py in _multimetric_score(estimator=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), X_test=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], y_test=array([ 0, -1,  1, ..., -1,  1,  1]), scorers={'score': <function _passthrough_scorer>})
    548 
    549     for name, scorer in scorers.items():
    550         if y_test is None:
    551             score = scorer(estimator, X_test)
    552         else:
--> 553             score = scorer(estimator, X_test, y_test)
        score = undefined
        scorer = <function _passthrough_scorer>
        estimator = Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))])
        X_test = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
        y_test = array([ 0, -1,  1, ..., -1,  1,  1])
    554 
    555         if hasattr(score, 'item'):
    556             try:
    557                 # e.g. unwrap memmapped scalars

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/metrics/scorer.py in _passthrough_scorer(estimator=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), *args=([{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ..., -1,  1,  1])), **kwargs={})
    239     return scorer
    240 
    241 
    242 def _passthrough_scorer(estimator, *args, **kwargs):
    243     """Function that wraps estimator.score"""
--> 244     return estimator.score(*args, **kwargs)
        estimator.score = <function Pipeline.score>
        args = ([{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ..., -1,  1,  1]))
        kwargs = {}
    245 
    246 
    247 def check_scoring(estimator, scoring=None, allow_none=False):
    248     """Determine scorer from user options.

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/utils/metaestimators.py in <lambda>(*args=([{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ..., -1,  1,  1])), **kwargs={})
    110                     break
    111             else:
    112                 attrgetter(self.delegate_names[-1])(obj)
    113 
    114         # lambda, but not partial, allows help() to work with update_wrapper
--> 115         out = lambda *args, **kwargs: self.fn(obj, *args, **kwargs)
        args = ([{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], array([ 0, -1,  1, ..., -1,  1,  1]))
        kwargs = {}
    116         # update the docstring of the returned function
    117         update_wrapper(out, self.fn)
    118         return out
    119 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py in score(self=Pipeline(memory='tmp',
     steps=[('union', Fea... seed=None,
       silent=True, subsample=0.5))]), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...], y=array([ 0, -1,  1, ..., -1,  1,  1]), sample_weight=None)
    481         score : float
    482         """
    483         Xt = X
    484         for name, transform in self.steps[:-1]:
    485             if transform is not None:
--> 486                 Xt = transform.transform(Xt)
        Xt = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
        transform.transform = <bound method FeatureUnion.transform of FeatureU...ights={'linguistic': 1.0, 'price_history': 1.0})>
    487         score_params = {}
    488         if sample_weight is not None:
    489             score_params['sample_weight'] = sample_weight
    490         return self.steps[-1][-1].score(Xt, y, **score_params)

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py in transform(self=FeatureUnion(n_jobs=1,
       transformer_list=[...eights={'linguistic': 1.0, 'price_history': 1.0}), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
    763             hstack of results of transformers. sum_n_components is the
    764             sum of n_components (output dimension) over transformers.
    765         """
    766         Xs = Parallel(n_jobs=self.n_jobs)(
    767             delayed(_transform_one)(trans, weight, X)
--> 768             for name, trans, weight in self._iter())
        self._iter = <bound method FeatureUnion._iter of FeatureUnion...ights={'linguistic': 1.0, 'price_history': 1.0})>
    769         if not Xs:
    770             # All transformers are None
    771             return np.zeros((X.shape[0], 0))
    772         if any(sparse.issparse(f) for f in Xs):

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in __call__(self=Parallel(n_jobs=1), iterable=<generator object FeatureUnion.transform.<locals>.<genexpr>>)
    774         self.n_completed_tasks = 0
    775         try:
    776             # Only set self._iterating to True if at least a batch
    777             # was dispatched. In particular this covers the edge
    778             # case of Parallel used with an exhausted iterator.
--> 779             while self.dispatch_one_batch(iterator):
        self.dispatch_one_batch = <bound method Parallel.dispatch_one_batch of Parallel(n_jobs=1)>
        iterator = <generator object FeatureUnion.transform.<locals>.<genexpr>>
    780                 self._iterating = True
    781             else:
    782                 self._iterating = False
    783 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in dispatch_one_batch(self=Parallel(n_jobs=1), iterator=<generator object FeatureUnion.transform.<locals>.<genexpr>>)
    620             tasks = BatchedCalls(itertools.islice(iterator, batch_size))
    621             if len(tasks) == 0:
    622                 # No more tasks available in the iterator: tell caller to stop.
    623                 return False
    624             else:
--> 625                 self._dispatch(tasks)
        self._dispatch = <bound method Parallel._dispatch of Parallel(n_jobs=1)>
        tasks = <sklearn.externals.joblib.parallel.BatchedCalls object>
    626                 return True
    627 
    628     def _print(self, msg, msg_args):
    629         """Display the message on stout or stderr depending on verbosity"""

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in _dispatch(self=Parallel(n_jobs=1), batch=<sklearn.externals.joblib.parallel.BatchedCalls object>)
    583         self.n_dispatched_tasks += len(batch)
    584         self.n_dispatched_batches += 1
    585 
    586         dispatch_timestamp = time.time()
    587         cb = BatchCompletionCallBack(dispatch_timestamp, len(batch), self)
--> 588         job = self._backend.apply_async(batch, callback=cb)
        job = undefined
        self._backend.apply_async = <bound method SequentialBackend.apply_async of <...lib._parallel_backends.SequentialBackend object>>
        batch = <sklearn.externals.joblib.parallel.BatchedCalls object>
        cb = <sklearn.externals.joblib.parallel.BatchCompletionCallBack object>
    589         self._jobs.append(job)
    590 
    591     def dispatch_next(self):
    592         """Dispatch more data for parallel processing

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/_parallel_backends.py in apply_async(self=<sklearn.externals.joblib._parallel_backends.SequentialBackend object>, func=<sklearn.externals.joblib.parallel.BatchedCalls object>, callback=<sklearn.externals.joblib.parallel.BatchCompletionCallBack object>)
    106             raise ValueError('n_jobs == 0 in Parallel has no meaning')
    107         return 1
    108 
    109     def apply_async(self, func, callback=None):
    110         """Schedule a func to be run"""
--> 111         result = ImmediateResult(func)
        result = undefined
        func = <sklearn.externals.joblib.parallel.BatchedCalls object>
    112         if callback:
    113             callback(result)
    114         return result
    115 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/_parallel_backends.py in __init__(self=<sklearn.externals.joblib._parallel_backends.ImmediateResult object>, batch=<sklearn.externals.joblib.parallel.BatchedCalls object>)
    327 
    328 class ImmediateResult(object):
    329     def __init__(self, batch):
    330         # Don't delay the application, to avoid keeping the input
    331         # arguments in memory
--> 332         self.results = batch()
        self.results = undefined
        batch = <sklearn.externals.joblib.parallel.BatchedCalls object>
    333 
    334     def get(self):
    335         return self.results
    336 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in __call__(self=<sklearn.externals.joblib.parallel.BatchedCalls object>)
    126     def __init__(self, iterator_slice):
    127         self.items = list(iterator_slice)
    128         self._size = len(self.items)
    129 
    130     def __call__(self):
--> 131         return [func(*args, **kwargs) for func, args, kwargs in self.items]
        self.items = [(<function _transform_one>, (Pipeline(memory=None,
     steps=[('selector', C...VecVectorizer()), ('debug', DebugTransformer())]), 1.0, [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]), {})]
    132 
    133     def __len__(self):
    134         return self._size
    135 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/externals/joblib/parallel.py in <listcomp>(.0=<list_iterator object>)
    126     def __init__(self, iterator_slice):
    127         self.items = list(iterator_slice)
    128         self._size = len(self.items)
    129 
    130     def __call__(self):
--> 131         return [func(*args, **kwargs) for func, args, kwargs in self.items]
        func = <function _transform_one>
        args = (Pipeline(memory=None,
     steps=[('selector', C...VecVectorizer()), ('debug', DebugTransformer())]), 1.0, [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
        kwargs = {}
    132 
    133     def __len__(self):
    134         return self._size
    135 

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py in _transform_one(transformer=Pipeline(memory=None,
     steps=[('selector', C...VecVectorizer()), ('debug', DebugTransformer())]), weight=1.0, X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
    566 def _fit_one_transformer(transformer, X, y):
    567     return transformer.fit(X, y)
    568 
    569 
    570 def _transform_one(transformer, weight, X):
--> 571     res = transformer.transform(X)
        res = undefined
        transformer.transform = <bound method Pipeline._transform of Pipeline(me...ecVectorizer()), ('debug', DebugTransformer())])>
        X = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
    572     # if we have a weight for this transformer, multiply output
    573     if weight is None:
    574         return res
    575     return res * weight

...........................................................................
/anaconda3/lib/python3.6/site-packages/sklearn/pipeline.py in _transform(self=Pipeline(memory=None,
     steps=[('selector', C...VecVectorizer()), ('debug', DebugTransformer())]), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
    421 
    422     def _transform(self, X):
    423         Xt = X
    424         for name, transform in self.steps:
    425             if transform is not None:
--> 426                 Xt = transform.transform(Xt)
        Xt = [{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...]
        transform.transform = <bound method CustomDictVectorizer.transform of CustomDictVectorizer(key='corpus')>
    427         return Xt
    428 
    429     @property
    430     def inverse_transform(self):

...........................................................................
/home/ubuntu/notebooks/text-analytics-for-accountancy/doc2vec/custom_transformers.py in transform(self=CustomDictVectorizer(key='corpus'), X=[{'corpus': 'numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'price_history': array([-0.02882634,  0.0322051 , -0.01592935,  0.00031358,  0.02565367])}, {'corpus': 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'price_history': array([-0.02693357, -0.02988982,  0.05010343, -0.02766265,  0.00704459])}, {'corpus': 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'price_history': array([-0.01413094,  0.00452086,  0.01704625,  0.0183268 ,  0.03395743])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'price_history': array([-0.01627146,  0.02314056,  0.00078647,  0.06873326,  0.01003854])}, {'corpus': 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'price_history': array([-0.02908648,  0.06954031,  0.03456004, -0.04932177,  0.01014524])}, {'corpus': 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'price_history': array([-0.02840387, -0.02563949,  0.02219899,  0.04896738, -0.01432576])}, {'corpus': 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'price_history': array([-0.01594346, -0.03002598, -0.01483314,  0.04483805, -0.04756264])}, {'corpus': 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'price_history': array([-0.02916912,  0.00742114,  0.01645441,  0.0293679 ,  0.0125186 ])}, {'corpus': 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'price_history': array([-0.02213533,  0.0097912 ,  0.01960443,  0.03402842, -0.00942103])}, {'corpus': 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'price_history': array([ 0.00055772,  0.07264782,  0.00951089,  0.06733397, -0.01875627])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'price_history': array([ 0.01079321,  0.05097144, -0.03792711,  0.02960744, -0.0838431 ])}, {'corpus': 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'price_history': array([-0.05904926,  0.04395427,  0.10635916,  0.07285205,  0.00581206])}, {'corpus': 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'price_history': array([-0.02617164,  0.03026695,  0.03120935, -0.05785567, -0.05906732])}, {'corpus': 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', 'price_history': array([ 0.02652182, -0.00492395,  0.04732624, -0.00484076, -0.05296592])}, ...])
     71         """
     72         if self.key == 'corpus':
     73             Xa = [''] * len(X) # 1-d array of strings
     74             for i, x in enumerate(X):
     75                 Xa[i] = x['corpus']
---> 76             Xa = np.array(Xa)
        Xa = ['numb conform conform file a a datum conform semi...rovide retain furnish security deem file security', 'numb conform conform file a a datum conform bear...ign write require provide retain furnish security', 'numb conform conform file a a datum conform bank...rement security contain present respect operation', 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'numb conform conform file a a datum conform flus...security contain present respect result operation', 'numb conform conform file a a datum conform comp...e file security amend security amend contain file', 'numb conform conform file a a datum conform cons...rement security contain present respect operation', 'numb conform conform file a a datum conform truc...ign write require provide retain furnish security', 'numb conform conform file a a datum conform chem...describe require deem file purpose security amend', 'numb conform conform file a a datum conform bank...e purpose security deem incorporate file security', 'numb conform conform file a a datum conform prep...ign write require provide retain furnish security', 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'numb conform conform file a a datum conform hous...security contain present respect result operation', 'numb conform conform file a a datum conform bank...operation date period express forego furnish file', 'numb conform conform file a a datum conform bank... result operation date period express forego file', 'numb conform conform file a a datum conform mine...urpose deem incorporate file security incorporate', 'numb conform conform file a a datum conform tech...ty amend contain present respect result operation', ...]
     77         elif self.key == 'price_history':
     78             Xa = np.zeros((len(X), 5)) # 2-d array of price histories
     79             for i, x in enumerate(X):
     80                 for j, val in enumerate(x['price_history']):

MemoryError: 
___________________________________________________________________________
